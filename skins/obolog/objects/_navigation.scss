.navigation-vertical {

	& {
		overflow: hidden;
		background: $color-primary;
		@include background-image(linear-gradient($color-primary-light, $color-primary));
		@include gradient-ie($color-primary-light, $color-primary);
		@include box-shadow(inset 0 1px 2px rgba($color-text-background, .5));
		border-top: 1px solid $color-primary;
	}
	a {
		& {
			font-family: $font-face-title;
			@include rem-fallback(font-size, $font-size-m, true);
			text-transform: uppercase;
			color: $color-text-background;
			margin: 0;
			@include box-shadow(0 0 2px rgba($color-primary-dark, .2), 0 0 2px rgba($color-primary-dark, .2));
		}
		&:hover {
			text-decoration: none;
			margin-left: 1px;
			margin-right: 1px;
		}
	}
	li {
		&.active {
			& {
				margin: 0;
			}
			a {
				@include opacity-background(contrast-color($color-primary-dark), .15);
			}
		}
		a:hover {
			background-color: $color-primary-light;
			@include opacity-background(contrast-color($color-primary-dark), .3);
		}
	}
}

$arrow-size: 8px;

.subnavigation {
	& {
		@include background-image(linear-gradient($color-text-background 45%, $color-box-dark 152%));
		@include gradient-ie($color-text-background, $color-box);
	}
	a {
		& {
			font-family: $font-face-title;
			@include rem-fallback(font-size, $font-size-m);
		}
		&:hover {
			text-decoration: underline;
		}
		[class^='icon-'] {
			@include opacity(.5);
		}
	}
	.active {
		& {
			position: relative;
		}
		a {
			& {
				color: $color-text;
				font-weight: bold;
			}
			&:hover {
				text-decoration: none;
			}
			&:after {
				border: $arrow-size solid transparent;
				border-style: outset outset solid outset;
				border-bottom-color: $color-box;
				bottom: 0px;
				content: "";
				height: 0;
				left: 50%;
				margin-left: -$arrow-size;
				overflow: hidden;
				position: absolute;
				width: 0;
			}
			&:before {
				border: $arrow-size solid transparent;
				border-style: outset outset solid outset;
				content: "";
				height: 0;
				left: 50%;
				margin-left: -$arrow-size;
				overflow: hidden;
				position: absolute;
				width: 0;
				background: transparent;
				border-bottom-color: $color-text-background;
				bottom: -2px;
				z-index: 100;
			}
		}
		ul {
			& {
				margin-left: $spacing;
			}
		}
		.active {
			a {
				font-weight: bold;
			}
		}
	}
}

.subnavigation-vertical {
	li {
		& {
			margin-bottom: $spacing/4;
		}
		a {
			& {
				font-family: $font-face-title;
				@include rem-fallback(font-size, $font-size-m, true);
				@include background-image(linear-gradient($color-primary-light, $color-primary));
				@include gradient-ie($color-primary-light, $color-primary);
				@include box-shadow(inset 0 1px 2px rgba($color-text-background, .5));
				border-top: 1px solid $color-primary;
				border-bottom: 1px solid $color-primary;
				color: $color-text-background;
				padding: $spacing/4 $spacing/2;
				@include border-radius;
			}
			&:hover {
				text-decoration: none;
				@include background-image(linear-gradient($color-primary-light, lighten($color-primary-light, 5%)));
				@include gradient-ie($color-primary-light, lighten($color-primary-light, 5%));
			}
			[class^='icon-'] {
				@include opacity(.5);
				margin-right: $spacing/4;
				min-width: 1em;
				text-align: center;
			}
		}
	}
	.active {
		& {
			position: relative;
		}
		a {
			&, &:hover {
				@include background-image(linear-gradient($color-secondary-light, $color-secondary));
				@include gradient-ie($color-secondary-light, $color-secondary);
				border-color: $color-secondary;
				text-decoration: none;
			}
		}
		ul {
			& {
				margin: 0 $spacing/2 $spacing/2;
				@include opacity-background($color-text, .05);
				@include border-radius(0 0 $default-border-radius $default-border-radius);
				border: 1px solid darken($color-box, 5%);
			}
			li {
				& {
					padding: $spacing/4 $spacing/2;
					margin-bottom: 0;
					border-bottom: 1px solid lighten($color-box, 5%);
					border-top: 1px solid darken($color-box, 5%);
				}
				a {
					&, &:hover {
						background: none;
						filter: none;
						color: $color-link;
						border: 0px none;
						padding: 0;
						@include box-shadow(none);
						@include rem-fallback(font-size, $font-size-default, true);
					}
					& {
						font-weight: normal;
					}
					&:hover {
						text-decoration: underline;
					}
					&:before {
						font-family: 'FontAwesome';
						content: "\f111";
						@include rem-fallback(font-size, .4em);
						@include opacity(.5);
						min-width: 16px;
						display: inline-block;
						vertical-align: middle;
					}
				}
			}
		}
		.active {
			a {
				& {
					font-weight: bold;
					color: $color-text;
				}
				&:before {
					content: "\f0da ";
					@include rem-fallback(font-size, $font-size-default);
					color: $color-ok;
					@include opacity(1);
				}
			}
		}
	}
}

/* @endgroup NAVIGATION */


.subnavigation {
	.form-search {
		margin:0 $spacing/4 $spacing/4 0;
	}
}